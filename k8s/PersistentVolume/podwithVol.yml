---
apiVersion: v1
kind: pod
metadata:
  name: pod-with-hostPath
spec:
  volumes:
    - name: volume
      hostPath:
        path: /mnt/data
  containers:
    - name: container-nginx
      image: nginx
      volumemounts:
        - name: volume
          mountPath: "/var/nginx-data"
    - name: container-tomcat
      image: tomcat
      volumeMounts:
        - name: volume
          mountPath: "/var/tocat/data"

# simple pod tat generate random number between 1 to 100 and write to that /opt/number.out
#it then get deleted along with rndom number
# To retain number generated by the pod need to create a volume and volume need storage
---
apiVersion: v2
kind: pod
metadata:
  name: random-number-generator
spec:
  containers:
    - name: random-number-generator-container
      image: alpine
      command: ["/bin/bash", "-c"]
      arg: ["shuf -i 0-100 -n 1 >> /opt/number.out;"]
      volumeMounts:
        - mountPath: /opt
        # random number now be written to /opt mount point inside the container
          name: data
  volumes:
    - name: data-volume
      awsElasticBlockStorage:
        volumeID: <volume-id>
        fileType: ext4
